import{_ as o,c as t,o as r,a2 as d}from"./chunks/framework.Bfq10Vlj.js";const p=JSON.parse('{"title":"Shoot cluster supported Kubernetes versions and specifics","description":"Defining the differences and requirements for upgrading to a supported Kubernetes version","frontmatter":{"aliases":["/docs/gardener/shoot_kubernetes_versions/"],"description":"Defining the differences and requirements for upgrading to a supported Kubernetes version","github_repo":"https://github.com/gardener/gardener","github_subdir":"docs/usage/shoot","params":{"github_branch":"master"},"path_base_for_github_subdir":{"from":"content/docs/gardener/shoot/shoot_kubernetes_versions.md","to":"shoot_kubernetes_versions.md"},"persona":"Users","title":"Shoot cluster supported Kubernetes versions and specifics","prev":false,"next":false},"headers":[],"relativePath":"docs/gardener/shoot/shoot_kubernetes_versions/index.md","filePath":"docs/gardener/shoot/shoot_kubernetes_versions.md","lastUpdated":null}'),s={name:"docs/gardener/shoot/shoot_kubernetes_versions/index.md"};function n(i,e,c,a,u,l){return r(),t("div",null,e[0]||(e[0]=[d('<h1 id="shoot-kubernetes-minor-version-upgrades" tabindex="-1">Shoot Kubernetes Minor Version Upgrades <a class="header-anchor" href="#shoot-kubernetes-minor-version-upgrades" aria-label="Permalink to &quot;Shoot Kubernetes Minor Version Upgrades&quot;">​</a></h1><p>Breaking changes may be introduced with new Kubernetes versions. This documentation describes the Gardener specific differences and requirements for upgrading to a supported Kubernetes version. For Kubernetes specific upgrade notes the upstream Kubernetes release notes, <a href="https://github.com/kubernetes/kubernetes/tree/master/CHANGELOG" target="_blank" rel="noreferrer">changelogs</a> and release blogs should be considered before upgrade.</p><h2 id="upgrading-to-kubernetes-v1-34" tabindex="-1">Upgrading to Kubernetes <code>v1.34</code> <a class="header-anchor" href="#upgrading-to-kubernetes-v1-34" aria-label="Permalink to &quot;Upgrading to Kubernetes `v1.34`&quot;">​</a></h2><ul><li>The <code>Shoot</code>&#39;s <code>.spec.cloudProfileName</code> field is forbidden. <code>Shoot</code> owners must migrate their <code>CloudProfile</code> reference to the new <code>spec.cloudProfile.name</code> field.</li><li>The <code>Shoot</code>&#39;s <code>.spec.secretBindingName</code> field is forbidden. <code>Shoot</code> owners must migrate their <code>SecretBinding</code> references to <code>CredentialsBinding</code> and use the new <code>.spec.credentialsBindingName</code> field. For more information, see the <a href="/docs/gardener/shoot-operations/secretbinding-to-credentialsbinding-migration/">SecretBinding to CredentialsBinding migration guide</a>.</li><li>The <code>Shoot</code>&#39;s operation annotations <code>rotate-etcd-encryption-key-(start|complete)</code> are forbidden. <code>Shoot</code> owners must use the <code>rotate-etcd-encryption-key</code> operation annotation instead, which performs a complete etcd encryption key rotation. <code>Shoot</code> clusters with an ongoing etcd encryption key rotation that is currently in the <code>Prepared</code> phase will move forward to the <code>Completing</code> phase.</li></ul><h2 id="upgrading-to-kubernetes-v1-33" tabindex="-1">Upgrading to Kubernetes <code>v1.33</code> <a class="header-anchor" href="#upgrading-to-kubernetes-v1-33" aria-label="Permalink to &quot;Upgrading to Kubernetes `v1.33`&quot;">​</a></h2><ul><li>A new <code>deny-all</code> <code>NetworkPolicy</code> is deployed into the <code>kube-system</code> namespace of the <code>Shoot</code> cluster. <code>Shoot</code> owners that run workloads in the <code>kube-system</code> namespace are required to explicitly allow their expected <code>Ingress</code> and <code>Egress</code> traffic in <code>kube-system</code> via <code>NetworkPolicies</code>.</li><li>The <code>Shoot</code>&#39;s <code>.spec.kubernetes.kubeControllerManager.podEvictionTimeout</code> field is forbidden. <code>Shoot</code> owners should use the <code>.spec.kubernetes.kubeAPIServer.defaultNotReadyTolerationSeconds</code> and <code>.spec.kubernetes.kubeAPIServer.defaultUnreachableTolerationSeconds</code> fields.</li><li>The <code>Shoot</code>&#39;s <code>.spec.kubernetes.clusterAutoscaler.maxEmptyBulkDelete</code> field is forbidden. <code>Shoot</code> owners should use the <code>.spec.kubernetes.clusterAutoscaler.maxScaleDownParallelism</code> field.</li><li>The <code>Shoot</code>&#39;s <code>.spec.cloudProfileName</code> field is deprecated. <code>Shoot</code> owners should migrate their <code>CloudProfile</code> reference to the new <code>.spec.cloudProfile.name</code> field.</li></ul><h2 id="upgrading-to-kubernetes-v1-32" tabindex="-1">Upgrading to Kubernetes <code>v1.32</code> <a class="header-anchor" href="#upgrading-to-kubernetes-v1-32" aria-label="Permalink to &quot;Upgrading to Kubernetes `v1.32`&quot;">​</a></h2><div class="tip custom-block github-alert"><p class="custom-block-title">TIP</p><p>It is recommended to <a href="/docs/gardener/shoot/shoot_access/#migrating-from-oidc-to-structured-authentication-config">migrate from OIDC to <code>StructuredAuthentication</code></a> before updating to Kubernetes v1.32 in order to avoid not being able to revert the change.</p></div><ul><li>The <code>Shoot</code>&#39;s <code>spec.kubernetes.kubeAPIServer.oidcConfig</code> field is forbidden. <ul><li><code>Shoot</code> owners that have used <code>oidcConfig</code> or a <code>(Cluster)OpenIDConnectPreset</code> resource are recommended to <a href="/docs/gardener/shoot/shoot_access/#migrating-from-oidc-to-structured-authentication-config">migrate to <code>StructuredAuthentication</code></a>. More information about <code>StructuredAuthentication</code> can be found in the <a href="/docs/gardener/shoot/shoot_access/#structured-authentication">Structured Authentication documentation</a>.</li></ul></li></ul><h2 id="upgrading-to-kubernetes-v1-31" tabindex="-1">Upgrading to Kubernetes <code>v1.31</code> <a class="header-anchor" href="#upgrading-to-kubernetes-v1-31" aria-label="Permalink to &quot;Upgrading to Kubernetes `v1.31`&quot;">​</a></h2><ul><li>The <code>Shoot</code>&#39;s <code>spec.kubernetes.kubeAPIServer.oidcConfig.clientAuthentication</code> field is forbidden.</li><li>The <code>Shoot</code>&#39;s <code>.spec.kubernetes.kubelet.systemReserved</code> and <code>.spec.provider.workers[].kubernetes.kubelet.systemReserved</code> fields are forbidden. <code>Shoot</code> owners should use the <code>.spec.kubernetes.kubelet.kubeReserved</code> and <code>.spec.provider.workers[].kubernetes.kubelet.kubeReserved</code> fields.</li></ul>',11)]))}const b=o(s,[["render",n]]);export{p as __pageData,b as default};
