import{_ as i,c as a,o as e,a2 as n}from"./chunks/framework.Bfq10Vlj.js";const t="/assets/show-account-details.ByVc3OM6.png",l="/assets/show-details-of-oicd-login.fW7qqATi.png",F=JSON.parse('{"title":"Project Operations","description":"","frontmatter":{"github_repo":"https://github.com/gardener/dashboard","github_subdir":"docs/usage","params":{"github_branch":"master"},"path_base_for_github_subdir":{"from":"content/docs/dashboard/project-operations.md","to":"project-operations.md"},"persona":"Users","title":"Project Operations","prev":false,"next":false},"headers":[],"relativePath":"docs/dashboard/project-operations/index.md","filePath":"docs/dashboard/project-operations.md","lastUpdated":null}'),h={name:"docs/dashboard/project-operations/index.md"};function p(r,s,k,o,d,c){return e(),a("div",null,s[0]||(s[0]=[n('<h1 id="project-operations" tabindex="-1">Project Operations <a class="header-anchor" href="#project-operations" aria-label="Permalink to &quot;Project Operations&quot;">​</a></h1><p>This section demonstrates how to use the standard Kubernetes tool for cluster operation <code>kubectl</code> for common cluster operations with emphasis on Gardener resources. For more information on <code>kubectl</code>, see <a href="https://kubernetes.io/docs/reference/kubectl/overview/" target="_blank" rel="noreferrer">kubectl</a> on <em>kubernetes.io</em>.</p><ul><li><a href="/docs/dashboard/project-operations/#project-operations">Project Operations</a><ul><li><a href="/docs/dashboard/project-operations/#prerequisites">Prerequisites</a></li><li><a href="/docs/dashboard/project-operations/#using-kubeconfig-for-remote-project-operations">Using <code>kubeconfig</code> for remote project operations</a><ul><li><a href="/docs/dashboard/project-operations/#downloading-your-kubeconfig">Downloading your <code>kubeconfig</code></a></li></ul></li><li><a href="/docs/dashboard/project-operations/#list-gardener-api-resources">List Gardener API resources</a></li><li><a href="/docs/dashboard/project-operations/#check-your-permissions">Check your permissions</a></li><li><a href="/docs/dashboard/project-operations/#working-with-projects">Working with projects</a></li><li><a href="/docs/dashboard/project-operations/#working-with-clusters">Working with clusters</a><ul><li><a href="/docs/dashboard/project-operations/#list-project-clusters">List project clusters</a></li><li><a href="/docs/dashboard/project-operations/#create-a-new-cluster">Create a new cluster</a></li><li><a href="/docs/dashboard/project-operations/#delete-cluster">Delete cluster</a></li><li><a href="/docs/dashboard/project-operations/#get-kubeconfig-for-a-shoot-cluster">Get <code>kubeconfig</code> for a Shoot Cluster</a></li></ul></li><li><a href="/docs/dashboard/project-operations/#related-links">Related Links</a></li></ul></li></ul><h2 id="prerequisites" tabindex="-1">Prerequisites <a class="header-anchor" href="#prerequisites" aria-label="Permalink to &quot;Prerequisites&quot;">​</a></h2><ul><li>You’re logged on to the Gardener Dashboard.</li><li>You’ve created a cluster and its status is operational.</li></ul><p>It&#39;s recommended that you get acquainted with the resources in the <a href="https://github.com/gardener/gardener/tree/master/docs/api-reference" target="_blank" rel="noreferrer">Gardener API</a>.</p><h2 id="using-kubeconfig-for-remote-project-operations" tabindex="-1">Using <code>kubeconfig</code> for remote project operations <a class="header-anchor" href="#using-kubeconfig-for-remote-project-operations" aria-label="Permalink to &quot;Using `kubeconfig` for remote project operations&quot;">​</a></h2><p>The <code>kubeconfig</code> for project operations is different from the one for cluster operations. It has a larger scope and allows a different set of operations that are applicable for a project administrator role, such as lifecycle control on clusters and managing project members.</p><p>Depending on your goal, you can create a service account suitable for automation and use it for your pipelines, or you can get a user-specific <code>kubeconfig</code> and use it to manage your project resources via kubectl.</p><h3 id="downloading-your-kubeconfig" tabindex="-1">Downloading your <code>kubeconfig</code> <a class="header-anchor" href="#downloading-your-kubeconfig" aria-label="Permalink to &quot;Downloading your `kubeconfig`&quot;">​</a></h3><p>Kubernetes doesn’t offer an own resource type for human users that access the API server. Instead, you either have to manage unique user strings, or use an OpenID-Connect (OIDC) compatible Identity Provider (IDP) to do the job.</p><p>Once the latter is set up, each Gardener user can use the <code>kubelogin</code> plugin for <code>kubectl</code> to authenticate against the API server:</p><ol><li><p>Set up <code>kubelogin</code> if you don&#39;t have it yet. More information: <a href="https://github.com/int128/kubelogin#setup" target="_blank" rel="noreferrer">kubelogin setup</a>.</p></li><li><p>Open the menu at the top right of the screen, then choose <strong>MY ACCOUNT</strong>.</p><p><img src="'+t+'" alt="Show account details"></p></li><li><p>On the <strong>Access</strong> card, choose the arrow to see all options for the personalized command-line interface access.</p><p><img src="'+l+`" alt="Show details of OICD login"></p><blockquote><p>The personal bearer token that is also offered here only provides access for a limited amount of time for one time operations, for example, in <code>curl</code> commands. The <code>kubeconfig</code> provided for the personalized access is used by <code>kubelogin</code> to grant access to the Gardener API for the user permanently by using a refresh token.</p></blockquote></li><li><p>Check that the right <strong>Project</strong> is chosen and keep the settings otherwise. Download the <code>kubeconfig</code> file and add its path to the <code>KUBECONFIG</code> environment variable.</p></li></ol><p>You can now execute <code>kubectl</code> commands on the garden cluster using the identity of your user.</p><blockquote><p>Note: You can also manage your Gardener project resources automatically using a Gardener service account. For more information, see <a href="/docs/dashboard/automated-resource-management/">Automating Project Resource Management</a>.</p></blockquote><h2 id="list-gardener-api-resources" tabindex="-1">List Gardener API resources <a class="header-anchor" href="#list-gardener-api-resources" aria-label="Permalink to &quot;List Gardener API resources&quot;">​</a></h2><ol><li><p>Using a <code>kubeconfig</code> for project operations, you can list the Gardner API resources using the following command:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> api-resources</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> garden</span></span></code></pre></div><p>The response looks like this:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">backupbuckets</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                     bbc</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">             core.gardener.cloud</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            false</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        BackupBucket</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">backupentries</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                     bec</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">             core.gardener.cloud</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            true</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">         BackupEntry</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cloudprofiles</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                     cprofile,cpfl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   core.gardener.cloud</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            false</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        CloudProfile</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">controllerinstallations</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">           ctrlinst</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        core.gardener.cloud</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            false</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        ControllerInstallation</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">controllerregistrations</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">           ctrlreg</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">         core.gardener.cloud</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            false</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        ControllerRegistration</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plants</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                            pl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">              core.gardener.cloud</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            true</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">         Plant</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">projects</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                          core.gardener.cloud</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            false</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        Project</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">quotas</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                            squota</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          core.gardener.cloud</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            true</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">         Quota</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">secretbindings</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                    sb</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">              core.gardener.cloud</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            true</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">         SecretBinding</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">seeds</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                             core.gardener.cloud</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            false</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        Seed</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">shoots</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                            core.gardener.cloud</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            true</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">         Shoot</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">shootstates</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                       core.gardener.cloud</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            true</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">         ShootState</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">terminals</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                         dashboard.gardener.cloud</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">       true</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">         Terminal</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">clusteropenidconnectpresets</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">       coidcps</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">         settings.gardener.cloud</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        false</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        ClusterOpenIDConnectPreset</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openidconnectpresets</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">              oidcps</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          settings.gardener.cloud</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        true</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">         OpenIDConnectPreset</span></span></code></pre></div></li><li><p>Enter the following command to view the Gardener API versions:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> api-versions</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> garden</span></span></code></pre></div><p>The response looks like this:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">core.gardener.cloud/v1alpha1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">core.gardener.cloud/v1beta1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dashboard.gardener.cloud/v1alpha1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">settings.gardener.cloud/v1alpha1</span></span></code></pre></div></li></ol><h2 id="check-your-permissions" tabindex="-1">Check your permissions <a class="header-anchor" href="#check-your-permissions" aria-label="Permalink to &quot;Check your permissions&quot;">​</a></h2><ol><li><p>The operations on project resources are limited by the role of the identity that tries to perform them. To get an overview over your permissions, use the following command:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> auth</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> can-i</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --list</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> garden</span></span></code></pre></div><p>The response looks like this:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plants.core.gardener.cloud</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                      []                       []                 [create delete deletecollection get list patch update watch]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">quotas.core.gardener.cloud</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                      []                       []                 [create delete deletecollection get list patch update watch]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">secretbindings.core.gardener.cloud</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">              []                       []                 [create delete deletecollection get list patch update watch]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">shoots.core.gardener.cloud</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                      []                       []                 [create delete deletecollection get list patch update watch]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">terminals.dashboard.gardener.cloud</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">              []                       []                 [create delete deletecollection get list patch update watch]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openidconnectpresets.settings.gardener.cloud</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    []                       []                 [create delete deletecollection get list patch update watch]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cloudprofiles.core.gardener.cloud</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">               []                       []                 [get list watch]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">projects.core.gardener.cloud</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    []                       [flowering]             [get patch update delete]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">namespaces</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                                      []                       [garden-flowering]      [get]</span></span></code></pre></div></li><li><p>Try to execute an operation that you aren’t allowed, for example:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> projects</span></span></code></pre></div><p>You receive an error message like this:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Error</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> server</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (Forbidden): projects.core.gardener.cloud is forbidden: User </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;system:serviceaccount:garden-flowering:robot&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cannot list resource </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;projects&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> in API group </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;core.gardener.cloud&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> at the cluster scope</span></span></code></pre></div></li></ol><h2 id="working-with-projects" tabindex="-1">Working with projects <a class="header-anchor" href="#working-with-projects" aria-label="Permalink to &quot;Working with projects&quot;">​</a></h2><ol><li><p>You can get the details for a project, where you (or the service account) is a member.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> project</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> flowering</span></span></code></pre></div><p>The response looks like this:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">NAME</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        NAMESPACE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          STATUS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   OWNER</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                    CREATOR</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                         AGE</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">flowering</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   garden-flowering</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   Ready</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    [PROJECT-ADMIN]@domain   [PROJECT-ADMIN]@domain system   45m</span></span></code></pre></div><blockquote><p>For more information, see <a href="/docs/gardener/api-reference/core/#project">Project</a> in the API reference.</p></blockquote></li><li><p>To query the names of the members of a project, use the following command:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> project</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docu</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> jsonpath=&#39;{.spec.members[*].name }&#39;</span></span></code></pre></div><p>The response looks like this:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[PROJECT-ADMIN]@domain system:serviceaccount:garden-flowering:robot</span></span></code></pre></div><blockquote><p>For more information, see <a href="/docs/gardener/api-reference/core/#projectmember">members</a> in the API reference.</p></blockquote></li></ol><h2 id="working-with-clusters" tabindex="-1">Working with clusters <a class="header-anchor" href="#working-with-clusters" aria-label="Permalink to &quot;Working with clusters&quot;">​</a></h2><p>The Gardener domain object for a managed cluster is called <a href="/docs/gardener/api-reference/core/#shoot">Shoot</a>.</p><h3 id="list-project-clusters" tabindex="-1">List project clusters <a class="header-anchor" href="#list-project-clusters" aria-label="Permalink to &quot;List project clusters&quot;">​</a></h3><p>To query the clusters in a project:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> shoots</span></span></code></pre></div><p>The output looks like this:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">NAME</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">       CLOUDPROFILE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   VERSION</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   SEED</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      DOMAIN</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                 HIBERNATION</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   OPERATION</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   PROGRESS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   APISERVER</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   CONTROL</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   NODES</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   SYSTEM</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   AGE</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">geranium</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   aws</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            1.18.3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    aws-eu1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   geranium.flowering.shoot.</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">truncate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">d</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   Awake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">         Succeeded</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   100</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        True</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        True</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      True</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    True</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     74m</span></span></code></pre></div><h3 id="create-a-new-cluster" tabindex="-1">Create a new cluster <a class="header-anchor" href="#create-a-new-cluster" aria-label="Permalink to &quot;Create a new cluster&quot;">​</a></h3><p>To create a new cluster using the command line, you need a YAML definition of the <code>Shoot</code> resource.</p><ol><li><p>To get started, copy the following YAML definition to a new file, for example, <code>daffodil.yaml</code> (or copy file <a href="https://github.com/gardener/dashboard/blob/master/docs/usage/shoot.yaml" target="_blank" rel="noreferrer">shoot.yaml</a> to <code>daffodil.yaml</code>) and adapt it to your needs.</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">apiVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">core.gardener.cloud/v1beta1</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">kind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Shoot</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">metadata</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">daffodil</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  namespace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">garden-flowering</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">spec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  secretBindingName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">trial-secretbinding-gcp</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  cloudProfile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    kind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">CloudProfile</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">gcp</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  region</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">europe-west1</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  purpose</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">evaluation</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  provider</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">gcp</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    infrastructureConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      kind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">InfrastructureConfig</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      apiVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">gcp.provider.extensions.gardener.cloud/v1alpha1</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      networks</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        workers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">10.250.0.0/16</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    controlPlaneConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      apiVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">gcp.provider.extensions.gardener.cloud/v1alpha1</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      zone</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">europe-west1-c</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      kind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ControlPlaneConfig</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    workers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">cpu-worker</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      maximum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      minimum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      maxSurge</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      maxUnavailable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      machine</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">n1-standard-2</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        image</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">gardenlinux</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      volume</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">pd-standard</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">50Gi</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      zones</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">europe-west1-c</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  networking</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">calico</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    pods</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">100.96.0.0/11</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    nodes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">10.250.0.0/16</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    services</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">100.64.0.0/13</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  maintenance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    timeWindow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      begin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">220000+0100</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      end</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">230000+0100</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    autoUpdate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      kubernetesVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      machineImageVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  hibernation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    enabled</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    schedules</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">start</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;00 17 * * 1,2,3,4,5&#39;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        location</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Europe/Kiev</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  kubernetes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    allowPrivilegedContainers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    kubeControllerManager</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      nodeCIDRMaskSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">24</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    kubeProxy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      mode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">IPTables</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    version</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.18.3</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  addons</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    nginxIngress</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      enabled</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    kubernetesDashboard</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      enabled</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span></span></code></pre></div></li><li><p>In your new YAML definition file, replace the value of field <code>metadata.namespace</code> with your namespace following the convention <code>garden-[YOUR-PROJECTNAME]</code>.</p></li><li><p>Create a cluster using this manifest (with flag <code>--wait=false</code> the command returns immediately, otherwise it doesn&#39;t return until the process is finished):</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apply</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> daffodil.yaml</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --wait=false</span></span></code></pre></div><p>The response looks like this:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">shoot.core.gardener.cloud/daffodil</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> created</span></span></code></pre></div></li><li><p>It takes 5–10 minutes until the cluster is created. To watch the progress, get all shoots and use the <code>-w</code> flag.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> shoots</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -w</span></span></code></pre></div></li></ol><p>For a more extended example, see <a href="https://github.com/gardener/gardener/blob/master/example/90-shoot.yaml" target="_blank" rel="noreferrer">Gardener example shoot manifest</a>.</p><h3 id="delete-cluster" tabindex="-1">Delete cluster <a class="header-anchor" href="#delete-cluster" aria-label="Permalink to &quot;Delete cluster&quot;">​</a></h3><p>To delete a shoot cluster, you must first annotate the shoot resource to confirm the operation with <code>confirmation.gardener.cloud/deletion: &quot;true&quot;</code>:</p><ol><li><p>Add the annotation to your manifest (<code>daffodil.yaml</code> in the previous example):</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">apiVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">core.gardener.cloud/v1beta1</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  kind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Shoot</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  metadata</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">daffodil</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    namespace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">garden-flowering</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    annotations</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      confirmation.gardener.cloud/deletion</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;true&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  spec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    addons</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">...</span></span></code></pre></div></li><li><p>Apply your changes of <code>daffodil.yaml</code>.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apply</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> daffodil.yaml</span></span></code></pre></div><p>The response looks like this:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">shoot.core.gardener.cloud/daffodil</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> configured</span></span></code></pre></div></li><li><p>Trigger the deletion.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> delete</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> shoot</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> daffodil</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --wait=false</span></span></code></pre></div><p>The response looks like this:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">shoot.core.gardener.cloud</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;daffodil&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> deleted</span></span></code></pre></div></li><li><p>It takes 5–10 minutes to delete the cluster. To watch the progress, get all shoots and use the <code>-w</code> flag.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> shoots</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -w</span></span></code></pre></div></li></ol><h3 id="get-kubeconfig-for-a-shoot-cluster" tabindex="-1">Get <code>kubeconfig</code> for a Shoot Cluster <a class="header-anchor" href="#get-kubeconfig-for-a-shoot-cluster" aria-label="Permalink to &quot;Get \`kubeconfig\` for a Shoot Cluster&quot;">​</a></h3><p>To get the <code>kubeconfig</code> for a shoot cluster in Gardener from the command line, use one of the following methods:</p><ol><li><p><strong>Using <code>shoots/admin/kubeconfig</code> Subresource</strong>:</p><ul><li>You can obtain a temporary admin <code>kubeconfig</code> by using the <code>shoots/admin/kubeconfig</code> subresource. Detailed instructions can be found in the Gardener documentation <a href="/docs/gardener/shoot/shoot_access/#shootsadminkubeconfig-subresource">here</a>.</li></ul></li><li><p><strong>Using <code>gardenctl</code> and <code>gardenlogin</code></strong>: <code>gardenctl</code> simplifies targeting Shoot clusters. It automatically downloads a <code>kubeconfig</code> that uses the <code>gardenlogin</code> kubectl auth plugin. This plugin transparently manages <code>Shoot</code> cluster authentication and certificate renewal without embedding any credentials in the kubeconfig file.</p><ul><li>When installing <code>gardenctl</code> via Homebrew or Chocolatey, <code>gardenlogin</code> will be installed as a dependency. Refer to the installation instructions <a href="https://github.com/gardener/gardenctl-v2/?tab=readme-ov-file#install-using-package-managers" target="_blank" rel="noreferrer">here</a>.</li><li>Both tools can share the same configuration. To set up the tools, refer to the documentation <a href="/docs/dashboard/connect-kubectl/#setup-gardenlogin">here</a>.</li><li>To get the <code>kubeconfig</code>, use either the <code>target</code> or <code>kubeconfig</code> command: <ul><li><p><strong>Target Command</strong>: This command targets the specified Shoot cluster and automatically downloads the <code>kubeconfig</code>.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gardenctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> target</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --garden</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> landscape-dev</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --project</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my-project</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --shoot</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my-shoot</span></span></code></pre></div><p>To set the <code>KUBECONFIG</code> environment variable to point to the downloaded <code>kubeconfig</code> file, use the following command (for bash):</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">eval</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gardenctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> kubectl-env</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bash</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Detailed instructions can be found <a href="https://github.com/gardener/gardenctl-v2/?tab=readme-ov-file#configure-kubeconfig-for-shoot-clusters" target="_blank" rel="noreferrer">here</a>.</p></li><li><p><strong>Kubeconfig Command</strong>: This command directly downloads the <code>kubeconfig</code> for the specified Shoot cluster and outputs it in raw format.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gardenctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> kubeconfig</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --garden</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> landscape-dev</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --project</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my-project</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --shoot</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my-shoot</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --raw</span></span></code></pre></div></li></ul></li></ul></li></ol><h2 id="related-links" tabindex="-1">Related Links <a class="header-anchor" href="#related-links" aria-label="Permalink to &quot;Related Links&quot;">​</a></h2><ul><li><a href="/docs/dashboard/automated-resource-management/">Automating Project Resource Management</a></li><li><a href="/docs/guides/administer-shoots/oidc-login/">Authenticating with an Identity Provider</a>.</li></ul>`,40)]))}const E=i(h,[["render",p]]);export{F as __pageData,E as default};
