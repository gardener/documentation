import{_ as t,c as r,o,a2 as n}from"./chunks/framework.Bfq10Vlj.js";const p=JSON.parse(`{"title":"Modernizing Gardener's Logging Stack with OpenTelemetry","description":"","frontmatter":{"aliases":["/blog/2025/09/10/modernizing-gardeners-logging-stack-with-opentelemetry"],"authors":[{"avatar":"https://avatars.githubusercontent.com/rrhubenov","login":"rrhubenov","name":"rhubenov"}],"github_repo":"https://github.com/gardener/documentation","github_subdir":"website/blog/2025/09","linkTitle":"Modernizing Gardener's Logging Stack with OpenTelemetry","newsSubtitle":"September 10, 2025","params":{"github_branch":"master"},"path_base_for_github_subdir":{"from":"content/blog/2025/09/09-10-modernizing-gardeners-logging-stack-with-opentelemetry.md","to":"09-10-modernizing-gardeners-logging-stack-with-opentelemetry.md"},"publishdate":"2025-09-10","title":"Modernizing Gardener's Logging Stack with OpenTelemetry"},"headers":[],"relativePath":"blog/2025/09/09-10-modernizing-gardeners-logging-stack-with-opentelemetry/index.md","filePath":"blog/2025/09/09-10-modernizing-gardeners-logging-stack-with-opentelemetry.md","lastUpdated":null}`),a={name:"blog/2025/09/09-10-modernizing-gardeners-logging-stack-with-opentelemetry/index.md"};function i(l,e,s,g,d,h){return o(),r("div",null,e[0]||(e[0]=[n('<h1 id="modernizing-gardener-s-logging-stack-with-opentelemetry" tabindex="-1">Modernizing Gardener&#39;s Logging Stack with OpenTelemetry <a class="header-anchor" href="#modernizing-gardener-s-logging-stack-with-opentelemetry" aria-label="Permalink to &quot;Modernizing Gardener&#39;s Logging Stack with OpenTelemetry&quot;">​</a></h1><p>Gardener is introducing a significant enhancement to its logging architecture for shoot clusters. By enabling the new <code>OpenTelemetryCollector</code> feature gate, shoots will be instrumented with the power and flexibility of the <a href="https://opentelemetry.io/docs/collector/" target="_blank" rel="noreferrer">OpenTelemetry Collector</a> to process and route shoot logs. This marks a key step in the evolution of Gardener&#39;s observability stack, as outlined in <a href="https://github.com/gardener/gardener/blob/master/docs/proposals/34-observability2.0-opentelemtry-operator-and-collectors.md" target="_blank" rel="noreferrer">GEP-34</a>.</p><h3 id="a-more-flexible-logging-pipeline" tabindex="-1">A More Flexible Logging Pipeline <a class="header-anchor" href="#a-more-flexible-logging-pipeline" aria-label="Permalink to &quot;A More Flexible Logging Pipeline&quot;">​</a></h3><p>Previously, Gardener&#39;s logging pipeline was tightly coupled: <code>valitail</code> agents on shoot nodes would send logs directly to a <code>Vali</code> instance in the shoot&#39;s control plane. While effective, this setup offered limited flexibility for integrating with other observability backends.</p><p>With the <code>OpenTelemetryCollector</code> feature gate enabled, the architecture is updated to be more modular. Logs are now routed through an OpenTelemetry Collector, which is deployed in the shoot&#39;s control plane. This collector acts as an intermediary, receiving logs and then forwarding them to the <code>Vali</code> persistence layer. This change effectively decouples the log shipping and processing from the final storage backend.</p><h3 id="key-advantages-of-the-new-approach" tabindex="-1">Key Advantages of the New Approach <a class="header-anchor" href="#key-advantages-of-the-new-approach" aria-label="Permalink to &quot;Key Advantages of the New Approach&quot;">​</a></h3><p>The introduction of the OpenTelemetry Collector brings several key benefits:</p><ul><li><strong>Enhanced Flexibility:</strong> The collector can be configured to export logs to various backends, not just <code>Vali</code>. This makes it significantly easier to replace or supplement <code>Vali</code> with other solutions like Grafana Loki or third-party observability platforms in the future.</li><li><strong>Future-Proof Extensibility:</strong> This architecture lays the groundwork for allowing shoot owners to forward logs to their own custom-defined endpoints through extensions, providing greater control over their observability data.</li><li><strong>Industry Standardization:</strong> By adopting OpenTelemetry, Gardener aligns with a growing industry standard for telemetry data, ensuring better interoperability and leveraging a vibrant open-source community.</li></ul><h3 id="how-it-works" tabindex="-1">How It Works <a class="header-anchor" href="#how-it-works" aria-label="Permalink to &quot;How It Works&quot;">​</a></h3><p>When the <code>OpenTelemetryCollector</code> feature gate is activated, Gardener adjusts the logging stack&#39;s configuration. The OpenTelemetry Operator, now part of Gardener, manages the lifecycle of the <code>OpenTelemetryCollector</code> custom resource.</p><p>The Ingress responsible for receiving logs is updated to point to the collector&#39;s gRPC receiver endpoint. Consequently, the <code>kube-rbac-proxy</code> container, which secures this endpoint, is moved from the <code>Vali</code> deployment to the new collector deployment. From an end-user perspective, the logging experience in the Gardener dashboard remains consistent, ensuring a seamless transition.</p><p>This update is a foundational move towards a more powerful, flexible, and standardized observability framework within Gardener.</p><h3 id="further-reading" tabindex="-1">Further Reading <a class="header-anchor" href="#further-reading" aria-label="Permalink to &quot;Further Reading&quot;">​</a></h3><ul><li><strong><a href="https://youtu.be/aUCxInp-yaA?t=29" target="_blank" rel="noreferrer">Watch the Presentation</a></strong></li><li><strong><a href="https://github.com/gardener/gardener/pull/12568" target="_blank" rel="noreferrer">GitHub Pull Request #12568</a></strong></li><li><strong><a href="https://github.com/gardener/gardener/blob/master/docs/proposals/34-observability2.0-opentelemtry-operator-and-collectors.md" target="_blank" rel="noreferrer">GEP-34: Observability 2.0 - OpenTelemetry Operator and Collectors</a></strong></li><li><strong><a href="https://opentelemetry.io/docs/collector/" target="_blank" rel="noreferrer">OpenTelemetry Collector Documentation</a></strong></li></ul>',14)]))}const u=t(a,[["render",i]]);export{p as __pageData,u as default};
