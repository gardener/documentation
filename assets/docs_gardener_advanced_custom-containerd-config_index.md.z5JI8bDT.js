import{_ as t,c as o,o as n,a2 as a}from"./chunks/framework.Bfq10Vlj.js";const m=JSON.parse('{"title":"Custom containerd Configuration","description":"","frontmatter":{"aliases":["/docs/gardener/custom-containerd-config/"],"github_repo":"https://github.com/gardener/gardener","github_subdir":"docs/usage/advanced","params":{"github_branch":"master"},"path_base_for_github_subdir":{"from":"content/docs/gardener/advanced/custom-containerd-config.md","to":"custom-containerd-config.md"},"persona":"Users","title":"Custom containerd Configuration","prev":false,"next":false},"headers":[],"relativePath":"docs/gardener/advanced/custom-containerd-config/index.md","filePath":"docs/gardener/advanced/custom-containerd-config.md","lastUpdated":null}'),i={name:"docs/gardener/advanced/custom-containerd-config/index.md"};function r(d,e,s,c,l,u){return n(),o("div",null,e[0]||(e[0]=[a('<h1 id="custom-containerd-configuration" tabindex="-1">Custom <code>containerd</code> Configuration <a class="header-anchor" href="#custom-containerd-configuration" aria-label="Permalink to &quot;Custom `containerd` Configuration&quot;">​</a></h1><p>In case a <code>Shoot</code> cluster uses <code>containerd</code>, it is possible to make the <code>containerd</code> process load custom configuration files. Gardener initializes <code>containerd</code> with the following statement:</p><div class="language-toml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">imports = [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/etc/containerd/conf.d/*.toml&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><p>This means that all <code>*.toml</code> files in the <code>/etc/containerd/conf.d</code> directory will be imported and merged with the default configuration. To prevent unintended configuration overwrites, please be aware that containerd merges config sections, not individual keys (see <a href="https://github.com/containerd/containerd/issues/5837#issuecomment-894840240" target="_blank" rel="noreferrer">here</a> and <a href="https://github.com/gardener/gardener/pull/7316" target="_blank" rel="noreferrer">here</a>). Please consult the <a href="https://github.com/containerd/containerd/blob/main/docs/man/containerd-config.toml.5.md#format" target="_blank" rel="noreferrer">upstream <code>containerd</code> documentation</a> for more information.</p><blockquote><p>⚠️ Note that this only applies to nodes which were newly created after <code>gardener/gardener@v1.51</code> was deployed. Existing nodes are not affected.</p></blockquote>',5)]))}const g=t(i,[["render",r]]);export{m as __pageData,g as default};
