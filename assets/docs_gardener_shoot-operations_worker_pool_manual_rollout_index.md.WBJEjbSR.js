import{_ as a,c as i,o as t,a2 as e}from"./chunks/framework.Bfq10Vlj.js";const c=JSON.parse('{"title":"Worker Pool Manual Rollout","description":"","frontmatter":{"aliases":["/docs/gardener/worker_pool_manual_rollout/"],"github_repo":"https://github.com/gardener/gardener","github_subdir":"docs/usage/shoot-operations","params":{"github_branch":"master"},"path_base_for_github_subdir":{"from":"content/docs/gardener/shoot-operations/worker_pool_manual_rollout.md","to":"worker_pool_manual_rollout.md"},"persona":"Users","title":"Worker Pool Manual Rollout","prev":false,"next":false},"headers":[],"relativePath":"docs/gardener/shoot-operations/worker_pool_manual_rollout/index.md","filePath":"docs/gardener/shoot-operations/worker_pool_manual_rollout.md","lastUpdated":null}'),o={name:"docs/gardener/shoot-operations/worker_pool_manual_rollout/index.md"};function l(n,s,r,h,p,k){return t(),i("div",null,s[0]||(s[0]=[e(`<h1 id="manual-worker-pool-rollout" tabindex="-1">Manual Worker Pool Rollout <a class="header-anchor" href="#manual-worker-pool-rollout" aria-label="Permalink to &quot;Manual Worker Pool Rollout&quot;">â€‹</a></h1><div class="note custom-block github-alert"><p class="custom-block-title">NOTE</p><p>This feature is currently only available for worker pools that are <strong>not</strong> configured with one of the <code>InPlace</code> update strategies - either <code>AutoInPlaceUpdate</code> or <code>ManualInPlaceUpdate</code>.</p></div><p>There may be cases when an end-user might want to trigger a manual worker pool rollout. For example, the <a href="/docs/gardener/networking/dual-stack-networking-migration/">dual-stack migration</a> requires to roll nodes. This can be accomplished by annotating the <code>Shoot</code> with the <code>rollout-workers</code> operation annotation and specifying which worker pools you&#39;d like to be rolled out.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">shoot-namespac</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> annotate</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> shoot</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">shoot-nam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;gardener.cloud/operation=rollout-workers=&lt;pool1-name&gt;[,&lt;pool2-name&gt;,...]&#39;</span></span></code></pre></div><p>Alternatively, you can use <code>*</code> to roll out all worker pools:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">shoot-namespac</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> annotate</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> shoot</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">shoot-nam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;gardener.cloud/operation=rollout-workers=*&#39;</span></span></code></pre></div><p>This will cause the status field <code>manualWorkerPoolRollout</code> to be set on the <code>Shoot</code>. It will keep track of the worker pools that are currently being rolled out.</p><p>Example status field:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    manualWorkerPoolRollout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      pendingWorkersRollouts</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">lastInitiationTime</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2025-10-17T14:38:13Z&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">local</span></span></code></pre></div>`,9)]))}const u=a(o,[["render",l]]);export{c as __pageData,u as default};
