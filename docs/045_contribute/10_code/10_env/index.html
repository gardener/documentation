
	<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

    <meta name="description" content="Documentation for Gardener">
<meta name="author" content="Andreas Herz">


<link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700|Material+Icons" rel="stylesheet">

    <link rel="icon" type="image/x-icon"  href="images/favicon.ico">
<link rel="icon" type="image/png"     href="images/favicon-32x32.png" sizes="32x32" />
<link rel="icon" type="image/png"     href="images/favicon-16x16.png" sizes="16x16" />

    <title>Enviroment :: Gardener Documentation</title>

    <link rel="icon" type="image/x-icon" href='https://gardener.github.io/website/images/favicon.ico'>
    <link rel="icon" type="image/png"    href='https://gardener.github.io/website/images/favicon-32x32.png' sizes="32x32">
    <link rel="icon" type="image/png"    href='https://gardener.github.io/website/images/favicon-16x16.png' sizes="16x16">

    
    <link href="/website/css/nucleus.css?1533730314" rel="stylesheet">
    <link href="/website/css/font-awesome.min.css?1533730314" rel="stylesheet">
    <link href="/website/css/hybrid.css?1533730314" rel="stylesheet">
    <link href="/website/css/featherlight.min.css?1533730314" rel="stylesheet">
    <link href="/website/css/perfect-scrollbar.min.css?1533730314" rel="stylesheet">
    <link href="/website/css/auto-complete.css?1533730314" rel="stylesheet">
    <link href="/website/css/skeleton.css?1533730314" rel="stylesheet">

    <script src="/website/js/moment.js?1533730314"></script>
    <script src="/website/js/vivus.js?1533730314"></script>
    <script src="/website/js/scrollreveal.js?1533730314"></script>
    <script src="/website/js/inlineSVG.js?1533730314"></script>
    <link href="/website/css/theme.css?1533730314" rel="stylesheet">
    <link href="/website/css/hugo-theme.css?1533730314" rel="stylesheet">


    
      <link href="/website/css/theme-gardener.css?1533730314" rel="stylesheet">
    

    <script src="/website/js/jquery-2.x.min.js?1533730314"></script>
    
    <style type="text/css">
      :root #header + #content > #left > #rlblock_left{ 
          display:none !important;
      }

    </style>

    

  </head>


  <body class="" data-url="/website/045_contribute/10_code/10_env/">
    <nav id="sidebar" class="">

  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="https://gardener.github.io/website">

	<svg width="90px" height="90px" viewBox="0 0 90 90" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
		
		<title>logo</title>
		<defs>
			<path d="M41.8864954,0.994901575 C42.8830405,0.514990742 44.5028956,0.516982644 45.4953045,0.994901575 L76.8159138,16.0781121 C77.8124589,16.5580229 78.8208647,17.8257185 79.0659694,18.8995926 L86.8015211,52.7912589 C87.0476474,53.8696088 86.6852538,55.4484075 85.9984855,56.3095876 L64.3239514,83.4885938 C63.6343208,84.3533632 62.1740175,85.0543973 61.0725268,85.0543973 L26.3092731,85.0543973 C25.2031915,85.0543973 23.7446167,84.3497739 23.0578485,83.4885938 L1.38331434,56.3095876 C0.693683723,55.4448182 0.335174016,53.865133 0.580278769,52.7912589 L8.31583044,18.8995926 C8.56195675,17.8212428 9.57347722,16.556031 10.5658861,16.0781121 L41.8864954,0.994901575 Z" id="path-1"></path>
			<linearGradient x1="12.7542673%" y1="-18.6617048%" x2="88.2666158%" y2="84.6075483%" id="linearGradient-3">
				<stop stop-color="#FFFFFF" offset="0%"></stop>
				<stop stop-color="#439246" offset="100%"></stop>
			</linearGradient>
			<linearGradient x1="50%" y1="4.93673768%" x2="148.756007%" y2="175.514523%" id="linearGradient-4">
				<stop stop-color="#FFFFFF" offset="0%"></stop>
				<stop stop-color="#439246" offset="100%"></stop>
			</linearGradient>
			<linearGradient x1="19.1574381%" y1="-9.04800713%" x2="82.2203149%" y2="77.9084293%" id="linearGradient-5">
				<stop stop-color="#FFFFFF" offset="0%"></stop>
				<stop stop-color="#439246" offset="100%"></stop>
			</linearGradient>
			<linearGradient x1="57.4403751%" y1="26.3148481%" x2="137.966711%" y2="158.080556%" id="linearGradient-6">
				<stop stop-color="#FFFFFF" offset="0%"></stop>
				<stop stop-color="#439246" offset="100%"></stop>
			</linearGradient>
		</defs>
		<g id="logo" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
			<g id="Rectangle-2" transform="translate(1.000000, 0.000000)">
				<mask id="mask-2" fill="white">
					<use xlink:href="#path-1"></use>
				</mask>
				<use id="Mask" fill="#009F76" xlink:href="#path-1"></use>
				<polygon fill="#000000" opacity="0.289628623" mask="url(#mask-2)" points="-17.6484375 54.5224609 30.8242188 25.0791016 63.4726562 58.5 24.7324219 92.6689453"></polygon>
			</g>
			<path d="M56.8508631,39.260019 C56.4193519,40.443987 55.6088085,41.581593 54.6736295,42.1938694 L46.5997298,47.4799783 C45.2142627,48.3870654 42.9749783,48.3916494 41.5825097,47.4799783 L33.50861,42.1938694 C32.123143,41.2867823 31,39.206345 31,37.545932 L31,26.4150304 C31,25.6897174 31.2131118,24.884885 31.5692681,24.1324532 L56.8508631,39.260019 Z" id="Combined-Shape" fill="url(#linearGradient-3)" transform="translate(43.925432, 36.147233) scale(-1, 1) translate(-43.925432, -36.147233) "></path>
			<path d="M56.0774672,25.1412464 C56.4306829,25.8903325 56.6425556,26.6907345 56.6425556,27.4119019 L56.6425556,38.5428034 C56.6425556,40.2027013 55.5264141,42.2790698 54.1339456,43.1907408 L46.0600459,48.4768498 C44.6745788,49.3839368 42.4352943,49.3885208 41.0428258,48.4768498 L32.9689261,43.1907408 C32.2918101,42.7474223 31.6773514,42.0238435 31.2260376,41.206007 L56.0774672,25.1412464 Z" id="Combined-Shape" fill="url(#linearGradient-4)" transform="translate(43.821278, 37.246598) scale(-1, 1) translate(-43.821278, -37.246598) "></path>
			<path d="M65.0702134,57.1846889 C64.5985426,58.2007851 63.8367404,59.1236871 62.9788591,59.6189851 L47.37497,68.6278947 C45.9443535,69.4538615 43.6226022,69.4525546 42.1942494,68.6278947 L26.5903603,59.6189851 C25.1597438,58.7930183 24,56.7816693 24,55.1323495 L24,37.1145303 C24,36.3487436 24.249712,35.5060005 24.6599102,34.7400631 L65.0702134,57.1846889 Z" id="Combined-Shape" fill="url(#linearGradient-5)"></path>
			<path d="M65.0189476,34.954538 C65.3636909,35.6617313 65.5692194,36.42021 65.5692194,37.1145303 L65.5692194,55.1323495 C65.5692194,56.7842831 64.4072119,58.7943252 62.9788591,59.6189851 L47.37497,68.6278947 C45.9443535,69.4538615 43.6226022,69.4525546 42.1942494,68.6278947 L26.5903603,59.6189851 C25.9237304,59.2341061 25.3159155,58.5918431 24.8568495,57.8487596 L65.0189476,34.954538 Z" id="Combined-Shape" fill="url(#linearGradient-6)"></path>
		</g>
	</svg>
	<h1>Gardener</h1>
	<h2>The Kubernetes Botanist</h2>
</a>

    </div>
    <div class="searchbox">
    <label for="search-by"><i class="fa fa-search"></i></label>
    <input data-search-input id="search-by" type="text" placeholder="Search...">
    <span data-search-clear=""><i class="fa fa-close"></i></span>
</div>

<script type="text/javascript" src="/website/js/lunr.min.js?1533730314"></script>
<script type="text/javascript" src="/website/js/auto-complete.js?1533730314"></script>
<script type="text/javascript">
    
        var baseurl = '\/website';
    
</script>
<script type="text/javascript" src="/website/js/search.js?1533730314"></script>

  </div>


  <div class="highlightable">
      <ul class="topics">
            
                 
                 




  
    
    <li data-nav-id="/website/blog/" title="Whats New" class="dd-item
        
        
        
        ">
        
          <a href="/website/blog/">
              <i class="fa fa-rss "></i>
              Whats New
          </a>
          
          
      
    </li>
  


            
                 
                 




  
    
    <li data-nav-id="/website/about/" title="Getting Started" class="dd-item
        
        
        
        ">
        
          <a href="/website/about/">
              <i class="fa fa-circle-thin "></i>
              Getting Started
          </a>
          
          
      
    </li>
  


            
                 
                 




  
    
    <li data-nav-id="/website/030-architecture/" title="Architecture" class="dd-item
        
        
        
        ">
        
          <a href="/website/030-architecture/">
              <i class="fa fa-square-o "></i>
              Architecture
          </a>
          
          
            <ul>
              
              
                
              
              


              
                
                    




  
    
    <li data-nav-id="/website/components/gardner/" title="Gardener" class="dd-item
        
        
        
        ">
        
          <a href="/website/components/gardner/">
              <i class=" "></i>
              Gardener
          </a>
          
          
      
    </li>
  


                
              
                
                    




  
    
    <li data-nav-id="/website/components/gardenctl/" title="gardenctl" class="dd-item
        
        
        
        ">
        
          <a href="/website/components/gardenctl/">
              <i class=" "></i>
              gardenctl
          </a>
          
          
      
    </li>
  


                
              
                
                    




  
    
    <li data-nav-id="/website/components/mcm/" title="Machine Controller Manager" class="dd-item
        
        
        
        ">
        
          <a href="/website/components/mcm/">
              <i class=" "></i>
              Machine Controller Manager
          </a>
          
          
      
    </li>
  


                
              
                
                    




  
    
    <li data-nav-id="/website/components/dns-cm/" title="DNS Controller Manager" class="dd-item
        
        
        
        ">
        
          <a href="/website/components/dns-cm/">
              <i class=" "></i>
              DNS Controller Manager
          </a>
          
          
      
    </li>
  


                
              
                
                    




  
    
    <li data-nav-id="/website/components/dashboard/" title="Dashboard" class="dd-item
        
        
        
        ">
        
          <a href="/website/components/dashboard/">
              <i class=" "></i>
              Dashboard
          </a>
          
          
      
    </li>
  


                
              
                
                    




  
    
    <li data-nav-id="/website/components/kubify/" title="kubify" class="dd-item
        
        
        
        ">
        
          <a href="/website/components/kubify/">
              <i class=" "></i>
              kubify
          </a>
          
          
      
    </li>
  


                
              
                
                    




  
    
    <li data-nav-id="/website/components/bouquet/" title="Bouquet" class="dd-item
        
        
        
        ">
        
          <a href="/website/components/bouquet/">
              <i class=" "></i>
              Bouquet
          </a>
          
          
      
    </li>
  


                
              

            </ul>
        
      
    </li>
  


            
                 
                 




  
    
    <li data-nav-id="/website/contribute/" title="Contribute" class="dd-item
        parent
        
        
        ">
        
          <a href="/website/contribute/">
              <i class="fa fa-plus-square-o "></i>
              Contribute
          </a>
          
          
            <ul>
              
              
                
              
              


              
                
                    




  
    
    <li data-nav-id="/website/contribute/code/" title="Code" class="dd-item
        parent
        
        
        ">
        
          <a href="/website/contribute/code/">
              <i class=" "></i>
              Code
          </a>
          
          
            <ul>
              
              
                
              
              


              
                
                    




  
    
    <li data-nav-id="/website/045_contribute/10_code/10-contribution_guide/" title="Contribution Guide" class="dd-item
        
        
        
        ">
        
          <a href="/website/045_contribute/10_code/10-contribution_guide/">
              <i class=" "></i>
              Contribution Guide
          </a>
          
          
      
    </li>
  


                
              
                
                    




  
    
    <li data-nav-id="/website/045_contribute/10_code/10_env/" title="Enviroment" class="dd-item
        parent
        active
        
        ">
        
          <a href="/website/045_contribute/10_code/10_env/">
              <i class=" "></i>
              Enviroment
          </a>
          
          
      
    </li>
  


                
              
                
                    




  
    
    <li data-nav-id="/website/045_contribute/10_code/15_conf_secrets/" title="Configuration and Secrets" class="dd-item
        
        
        
        ">
        
          <a href="/website/045_contribute/10_code/15_conf_secrets/">
              <i class=" "></i>
              Configuration and Secrets
          </a>
          
          
      
    </li>
  


                
              
                
                    




  
    
    <li data-nav-id="/website/045_contribute/10_code/20_dependencies/" title="Dependencies" class="dd-item
        
        
        
        ">
        
          <a href="/website/045_contribute/10_code/20_dependencies/">
              <i class=" "></i>
              Dependencies
          </a>
          
          
      
    </li>
  


                
              
                
                    




  
    
    <li data-nav-id="/website/development/usage/" title="Creating Shoots" class="dd-item
        
        
        
        ">
        
          <a href="/website/development/usage/">
              <i class=" "></i>
              Creating Shoots
          </a>
          
          
      
    </li>
  


                
              
                
                    




  
    
    <li data-nav-id="/website/045_contribute/10_code/27_deploy_into_cluster/" title="Deploy into a Cluster" class="dd-item
        
        
        
        ">
        
          <a href="/website/045_contribute/10_code/27_deploy_into_cluster/">
              <i class=" "></i>
              Deploy into a Cluster
          </a>
          
          
      
    </li>
  


                
              
                
                    




  
    
    <li data-nav-id="/website/045_contribute/10_code/30_deploy_into_minikube/" title="Deploy into Minikube" class="dd-item
        
        
        
        ">
        
          <a href="/website/045_contribute/10_code/30_deploy_into_minikube/">
              <i class=" "></i>
              Deploy into Minikube
          </a>
          
          
      
    </li>
  


                
              
                
                    




  
    
    <li data-nav-id="/website/045_contribute/10_code/30_deploy_seed_into_aks/" title="Deploy into AKS" class="dd-item
        
        
        
        ">
        
          <a href="/website/045_contribute/10_code/30_deploy_seed_into_aks/">
              <i class=" "></i>
              Deploy into AKS
          </a>
          
          
      
    </li>
  


                
              
                
                    




  
    
    <li data-nav-id="/website/045_contribute/10_code/37_process/" title="Process" class="dd-item
        
        
        
        ">
        
          <a href="/website/045_contribute/10_code/37_process/">
              <i class=" "></i>
              Process
          </a>
          
          
      
    </li>
  


                
              
                
                    




  
    
    <li data-nav-id="/website/045_contribute/10_code/40_repositories/" title="Repositories" class="dd-item
        
        
        
        ">
        
          <a href="/website/045_contribute/10_code/40_repositories/">
              <i class=" "></i>
              Repositories
          </a>
          
          
      
    </li>
  


                
              

            </ul>
        
      
    </li>
  


                
              
                
                    




  
    
    <li data-nav-id="/website/contribute/docs/" title="Documentation" class="dd-item
        
        
        
        ">
        
          <a href="/website/contribute/docs/">
              <i class=" "></i>
              Documentation
          </a>
          
          
            <ul>
              
              
                
              
              


              
                
                    




  
    
    <li data-nav-id="/website/045_contribute/20_documentation/10_organisation/" title="Organisation" class="dd-item
        
        
        
        ">
        
          <a href="/website/045_contribute/20_documentation/10_organisation/">
              <i class=" "></i>
              Organisation
          </a>
          
          
      
    </li>
  


                
              
                
                    




  
    
    <li data-nav-id="/website/045_contribute/20_documentation/20_style/" title="Style Guide" class="dd-item
        
        
        
        ">
        
          <a href="/website/045_contribute/20_documentation/20_style/">
              <i class=" "></i>
              Style Guide
          </a>
          
          
      
    </li>
  


                
              
                
                    




  
    
    <li data-nav-id="/website/045_contribute/20_documentation/25_markup/" title="Markdown" class="dd-item
        
        
        
        ">
        
          <a href="/website/045_contribute/20_documentation/25_markup/">
              <i class=" "></i>
              Markdown
          </a>
          
          
            <ul>
              
              
              


              
                
                    




  
      <li data-nav-id="/website/045_contribute/20_documentation/25_markup/attachments/" title="Attachments" class="dd-item ">
        <a href="/website/045_contribute/20_documentation/25_markup/attachments/">
            Attachments
        </a>
    </li>
  


                
              
                
                    




  
      <li data-nav-id="/website/045_contribute/20_documentation/25_markup/button/" title="Button" class="dd-item ">
        <a href="/website/045_contribute/20_documentation/25_markup/button/">
            Button
        </a>
    </li>
  


                
              
                
                    




  
      <li data-nav-id="/website/045_contribute/20_documentation/25_markup/expand/" title="Expand" class="dd-item ">
        <a href="/website/045_contribute/20_documentation/25_markup/expand/">
            Expand
        </a>
    </li>
  


                
              
                
                    




  
      <li data-nav-id="/website/045_contribute/20_documentation/25_markup/mermaid/" title="Mermaid" class="dd-item ">
        <a href="/website/045_contribute/20_documentation/25_markup/mermaid/">
            Mermaid
        </a>
    </li>
  


                
              
                
                    




  
      <li data-nav-id="/website/045_contribute/20_documentation/25_markup/notice/" title="Notice" class="dd-item ">
        <a href="/website/045_contribute/20_documentation/25_markup/notice/">
            Notice
        </a>
    </li>
  


                
              

            </ul>
        
      
    </li>
  


                
              

            </ul>
        
      
    </li>
  


                
              

            </ul>
        
      
    </li>
  


            
                 
                 




  
    
    <li data-nav-id="/website/tutorials/" title="Tutorials" class="dd-item
        
        
        
        ">
        
          <a href="/website/tutorials/">
              <i class="fa fa-terminal "></i>
              Tutorials
          </a>
          
          
            <ul>
              
              
                
              
              


              
                
                    




  
    
    <li data-nav-id="/website/using-gardener/administrator/" title="Administrator" class="dd-item
        
        
        
        ">
        
          <a href="/website/using-gardener/administrator/">
              <i class=" "></i>
              Administrator
          </a>
          
          
      
    </li>
  


                
              
                
                    




  
    
    <li data-nav-id="/website/using-gardener/developer/topic/" title="App Developer" class="dd-item
        
        
        
        ">
        
          <a href="/website/using-gardener/developer/topic/">
              <i class=" "></i>
              App Developer
          </a>
          
          
      
    </li>
  


                
              
                
                
              

            </ul>
        
      
    </li>
  


            
                 
                 




  
    
    <li data-nav-id="/website/curated-links/" title="Curated Links" class="dd-item
        
        
        
        ">
        
          <a href="/website/curated-links/">
              <i class="fa fa-bookmark-o "></i>
              Curated Links
          </a>
          
          
      
    </li>
  


            
      </ul>
      <section id="footer">
        
<script async defer src="https://buttons.github.io/buttons.js"></script>

      </section>

  </div>
</nav>











        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable  body-inner-wrapper">

          <div>
              <div id="top-bar">
                
                    <div id="top-github-link">
                        <a class="github-link" title='Edit this page'
                        
                          href='https://github.com/gardener/gardener/blob/master/docs/development/local_setup.md'
                        
                         target="blank">
                        <i class="fa fa-code-fork"></i>
                          <span id="top-github-link-text">Edit this page</span>
                        </a>
                    </div>
                

                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                    <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                    <i class="fa fa-bars"></i>
                    </a>
                    </span>
                    
                    <span class="links">
                        
            
            
              
              
            
            
              
              
            
            
              
              
            
            
              <a href='/website/'>Gardener</a> > <a href='/website/contribute/'>Contribute</a> > <a href='/website/contribute/code/'>Code</a> > Enviroment
            
          
            
          
            
          
            
          
                    </span>
                </div>

                
              </div>
          </div>

          

          <div id="body-inner">

          



<br>
<br>




<h1 id="preparing-the-setup">Preparing the setup</h1>

<p>Conceptionally, the Gardener is designated to run in containers within a Pod inside an Kubernetes cluster. It extends the API via the user-aggregated API server concepts. However, if you want to develop it, you may want to work locally with the Gardener without building a Docker image and deploying it to a cluster each and every time. That means that the Gardener runs outside a Kubernetes cluster which requires providing a <a href="https://kubernetes.io/docs/tasks/access-application-cluster/authenticate-across-clusters-kubeconfig/">Kubeconfig</a> in your local filesystem and point the Gardener to it when starting it (see below).</p>

<p>Further details could be found in</p>

<ol>
<li><a href="https://kubernetes.io/docs/concepts/">principles of Kubernetes</a>, and its <a href="https://kubernetes.io/docs/concepts/overview/components/">components</a></li>
<li><a href="https://github.com/kubernetes/community/tree/master/contributors/devel">Kubernetes Development Guide</a></li>
<li><a href="/website/030-architecture/">architecture of the Garden</a></li>
</ol>

<p>This setup is based on <a href="https://github.com/kubernetes/minikube">minikube</a>, a Kubernetes cluster running on a single node.</p>

<h2 id="installing-golang-environment">Installing Golang environment</h2>

<p>Install the latest version of Golang (at least <code>v1.9.2</code> is required). For Mac OS you could use <a href="https://brew.sh/">Homebrew</a>:</p>

<pre><code class="language-bash">$ brew install golang
</code></pre>

<p>For other OS, please check <a href="https://golang.org/doc/install">Go installation documentation</a>.</p>

<p>Make sure to set your <code>$GOPATH</code> environment variable properly (conventionally, it points to <code>$HOME/go</code>).</p>

<p>For your convenience, you can add the <code>bin</code> directory of the <code>$GOPATH</code> to your <code>$PATH</code>: <code>PATH=$PATH:$GOPATH/bin</code>, but it is not necessarily required.</p>

<p>We use <a href="https://github.com/golang/dep">Dep</a> for managing Golang package dependencies. Please install it
on Mac OS via</p>

<pre><code class="language-bash">$ brew install dep
</code></pre>

<p>On other OS please check the <a href="https://golang.github.io/dep/docs/installation.html">Dep installation documentation</a> and the <a href="https://github.com/golang/dep/releases">Dep releases page</a>. After downloading the appropriate release in your <code>$GOPATH/bin</code> folder you need to make it executable via <code>chmod +x &lt;dep-release&gt;</code> and to rename it to dep via <code>mv dep-&lt;release&gt; dep</code>.</p>

<h3 id="golint">Golint</h3>

<p>In order to perform linting on the Go source code, please install <a href="https://github.com/golang/lint">Golint</a>:</p>

<pre><code class="language-bash">$ go get -u github.com/golang/lint/golint
</code></pre>

<h3 id="ginkgo-and-gomega">Ginkgo and Gomega</h3>

<p>In order to perform tests on the Go source code, please install <a href="https://onsi.github.io/ginkgo/">Ginkgo</a> and <a href="http://onsi.github.io/gomega/">Gomega</a>. Please make yourself familiar with both frameworks and read their introductions after installation:</p>

<pre><code class="language-bash">$ go get -u github.com/onsi/ginkgo/ginkgo
$ go get -u github.com/onsi/gomega
</code></pre>

<h2 id="installing-kubectl-and-helm">Installing <code>kubectl</code> and <code>helm</code></h2>

<p>As already mentioned in the introduction, the communication with the Gardener happens via the Kubernetes (Garden) cluster it is targeting. To interact with that cluster, you need to install <code>kubectl</code>.</p>

<p>On Mac OS run</p>

<pre><code class="language-bash">$ brew install kubernetes-cli
</code></pre>

<p>Please check the <a href="https://kubernetes.io/docs/tasks/tools/install-kubectl/">kubectl installation documentation</a> for other OS.</p>

<p>You may also need to develop Helm charts or interact with Tiller using the <a href="https://github.com/kubernetes/helm">Helm</a> CLI:</p>

<p>On Mac OS run</p>

<pre><code class="language-bash">$ brew install kubernetes-helm
</code></pre>

<p>On other OS please check the <a href="https://github.com/kubernetes/helm/blob/master/docs/install.md">Helm installation documentation</a>.</p>

<h2 id="installing-git">Installing <code>git</code></h2>

<p>We use <code>git</code> as VCS which you need to install.</p>

<p>On Mac OS run</p>

<pre><code class="language-bash">$ brew install git
</code></pre>

<p>On other OS, please check the <a href="https://git-scm.com/book/en/v2/Getting-Started-Installing-Git">Git installation documentation</a>.</p>

<h2 id="installing-openvpn">Installing <code>openvpn</code></h2>

<p>We use <code>OpenVPN</code> to establish network connectivity from the control plane running in the Seed cluster to the Shoot&rsquo;s worker nodes running in private networks.
To harden the security we need to generate another secret to encrypt the network traffic (<a href="https://openvpn.net/index.php/open-source/documentation/howto.html#security">details</a>).
Please install the <code>openvpn</code> binary. On Mac OS run</p>

<pre><code class="language-bash">$ brew install openvpn
</code></pre>

<p>On other OS, please check the <a href="https://openvpn.net/index.php/open-source/downloads.html">OpenVPN downloads page</a>.</p>

<h2 id="installing-minikube">Installing Minikube</h2>

<p>You&rsquo;ll need to have <a href="https://github.com/kubernetes/minikube#installation">minikube</a> installed and running.</p>

<h2 id="installing-iproute2">Installing iproute2</h2>

<p><code>iproute2</code> provides a collection of utilities for network administration and configuration.</p>

<p>On Mac OS run</p>

<pre><code class="language-bash">$ brew install iproute2mac
</code></pre>

<h2 id="optional-installing-docker">[Optional] Installing Docker</h2>

<p>In case you want to build Docker images for the Gardener you have to install Docker itself. We recommend using <a href="https://docs.docker.com/docker-for-mac/">Docker for Mac OS X</a> which can be downloaded from <a href="https://download.docker.com/mac/stable/Docker.dmg">here</a>.</p>

<p>On other OS, please check the <a href="https://docs.docker.com/install/">Docker installation documentation</a>.</p>

<h2 id="optional-installing-gcloud-sdk">[Optional] Installing <code>gcloud</code> SDK</h2>

<p>In case you have to create a new release or a new hotfix of the Gardener you have to push the resulting Docker image into a Docker registry. Currently, we are using the Google Container Registry (this could change in the future). Please follow the official <a href="https://cloud.google.com/sdk/downloads">installation instructions from Google</a>.</p>

<h2 id="installing-vagrant">Installing <code>Vagrant</code></h2>

<p>In case you want to run the <code>gardener-local-provider</code> and test the creation of Shoot clusters on your machine you have to <a href="https://www.vagrantup.com/downloads.html">install</a> Vagrant.</p>

<p>Please make sure that the executable <code>bsdtar</code> is available on your system.</p>

<h2 id="installing-virtualbox">Installing <code>Virtualbox</code></h2>

<p>In this local setup a virtualizer is needed. Here, <a href="https://www.virtualbox.org"><code>Virtualbox</code></a> is used. However, Vagrant supports other virtualizers as well. Please check the <a href="https://www.vagrantup.com/docs/index.html"><code>Vagrant</code> documentation</a> for further details.</p>

<h2 id="test-nip-io">Test nip.io</h2>

<p><code>nip.io</code> is used as an unmanaged DNS implementation for the local setup. Some ISPs don&rsquo;t handle <code>nip.io</code> very well. Test NS resolution:</p>

<pre><code class="language-bash">nslookup 192.168.99.201.nip.io
Server:         8.8.8.8
Address:        8.8.8.8#53

Non-authoritative answer:
Name:   192.168.99.201.nip.io
Address: 192.168.99.201
</code></pre>

<p>If there is an error, switch your DNS server to <code>8.8.8.8</code> / <code>8.8.4.4</code> or <code>1.1.1.1</code>.</p>

<h2 id="local-gardener-setup">Local Gardener setup</h2>

<p>This setup is only meant to be used for developing purposes, which means that only the control plane of the Gardener cluster is running on your machine.</p>

<h3 id="get-the-sources">Get the sources</h3>

<p>Clone the repository from GitHub into your <code>$GOPATH</code>.</p>

<pre><code class="language-bash">$ mkdir -p $GOPATH/src/github.com/gardener
$ cd $GOPATH/src/github.com/gardener
$ git clone git@github.com:gardener/gardener.git
$ cd gardener
</code></pre>

<h3 id="start-the-gardener">Start the Gardener</h3>

<p>:warning: Before you start developing, please ensure to comply with the following requirements:</p>

<ol>
<li>You have understood the <a href="https://kubernetes.io/docs/concepts/">principles of Kubernetes</a>, and its <a href="https://kubernetes.io/docs/concepts/overview/components/">components</a>, what their purpose is and how they interact with each other.</li>
<li>You have understood the <a href="/website/030-architecture/">architecture of the Garden</a>, and what the various clusters are used for.</li>
</ol>

<p>The development of the Gardener could happen by targeting any cluster. You basically need a Garden cluster (e.g., a <a href="https://github.com/kubernetes/minikube">Minikube</a> cluster) and one Seed cluster per cloud provider and per data center/region. You can configure the Gardener controller manager to watch <strong>all namespaces</strong> for Shoot manifests or to only watch <strong>one single</strong> namespace.</p>

<p>The commands below will configure your <code>minikube</code> with the absolute minimum resources to launch Gardener API Server and Gardener Controller Manager on a local machine.</p>

<h4 id="start-minikube">Start <code>minikube</code></h4>

<p>First, start <code>minikube</code> with at least Kubernetes v1.9.x, e.g. via <code>minikube --kubernetes-version=v1.9.0</code></p>

<pre><code class="language-bash">$ minikube start --kubernetes-version=v1.9.0
Starting local Kubernetes v1.9.0 cluster...
[...]
kubectl is now configured to use the cluster.
</code></pre>

<h4 id="prepare-the-gardener">Prepare the Gardener</h4>

<p>The Gardener exposes the API servers of Shoot clusters via Kubernetes services of type <code>LoadBalancer</code>. In order to establish stable endpoints (robust against changes of the load balancer address), it creates DNS records pointing to these load balancer addresses. They are used internally and by all cluster components to communicate.
You need to have control over a domain (or subdomain) for which these records will be created.
Please provide an <em>internal domain secret</em> (see <a href="https://raw.githubusercontent.com/gardener/gardener/master/docs/development/../../example/10-secret-internal-domain.yaml">this</a> for an example) which contains credentials with the proper privileges. Further information can be found <a href="https://raw.githubusercontent.com/gardener/gardener/master/docs/development/../deployment/configuration.md">here</a>.</p>

<pre><code class="language-bash">$ make dev-setup
namespace &quot;garden&quot; created
namespace &quot;garden-dev&quot; created
secret &quot;internal-domain-unmanaged&quot; created
deployment &quot;etcd&quot; created
service &quot;etcd&quot; created
service &quot;gardener-apiserver&quot; created
endpoints &quot;gardener-apiserver&quot; created
apiservice &quot;v1beta1.garden.sapcloud.io&quot; created
</code></pre>

<h4 id="run-the-gardener-api-server-and-the-gardener-controller-manager">Run the Gardener API Server and the Gardener Controller Manager</h4>

<p>Next, you need to run the Gardener API Server and the Gardener Controller Manager using rules in the <code>Makefile</code>.</p>

<pre><code class="language-bash">$ make start-api
[restful] 2018/02/01 15:39:43 log.go:33: [restful/swagger] listing is available at https:///swaggerapi
[restful] 2018/02/01 15:39:43 log.go:33: [restful/swagger] https:///swaggerui/ is mapped to folder /swagger-ui/
I0201 15:39:43.750573   84958 serve.go:89] Serving securely on [::]:8443
[...]
</code></pre>

<p>In another terminal, launch the Gardener Controller Manager</p>

<pre><code class="language-bash">$ make start
time=&quot;2018-02-20T13:24:39+02:00&quot; level=info msg=&quot;Starting Gardener controller manager...&quot;
time=&quot;2018-02-20T13:24:39+02:00&quot; level=info msg=&quot;Feature Gates: &quot;
time=&quot;2018-02-20T13:24:39+02:00&quot; level=info msg=&quot;Gardener controller manager HTTP server started (serving on 0.0.0.0:2718)&quot;
time=&quot;2018-02-20T13:24:39+02:00&quot; level=info msg=&quot;Found internal domain secret internal-domain-unmanaged for domain nip.io.&quot;
time=&quot;2018-02-20T13:24:39+02:00&quot; level=info msg=&quot;Successfully bootstrapped the Garden cluster.&quot;
time=&quot;2018-02-20T13:24:39+02:00&quot; level=info msg=&quot;Gardener controller manager (version 0.2.0) initialized.&quot;
time=&quot;2018-02-20T13:24:39+02:00&quot; level=info msg=&quot;Quota controller initialized.&quot;
time=&quot;2018-02-20T13:24:39+02:00&quot; level=info msg=&quot;CloudProfile controller initialized.&quot;
time=&quot;2018-02-20T13:24:39+02:00&quot; level=info msg=&quot;SecretBinding controller initialized.&quot;
time=&quot;2018-02-20T13:24:39+02:00&quot; level=info msg=&quot;Watching all namespaces for Shoot resources...&quot;
time=&quot;2018-02-20T13:24:39+02:00&quot; level=info msg=&quot;Shoot controller initialized.&quot;
time=&quot;2018-02-20T13:24:39+02:00&quot; level=info msg=&quot;Seed controller initialized.&quot;
[...]
</code></pre>

<p>:information_source: Your username is inferred from the user you are logged in with on your machine. The version is incremented based on the content of the <code>VERSION</code> file. The version is important for the Gardener in order to identify which Gardener version has last operated a Shoot cluster.</p>

<p>The Gardener should now be ready to operate on Shoot resources. You can use</p>

<pre><code class="language-bash">$ kubectl get shoots
No resources found.
</code></pre>

<p>to operate against your local running Gardener API server.</p>

<blockquote>
<p>Note: It may take several seconds until the <code>minikube</code> cluster recognizes that the Gardener API server has been started and is available. <code>No resources found</code> is the expected result of our initial development setup.</p>
</blockquote>

<h4 id="configure-minikube-to-act-as-gardener-and-seed-cluster">Configure <code>minikube</code> to act as Gardener and Seed Cluster</h4>

<p>The Gardener Local Provider gives you the ability to create Shoot clusters on your local machine without the need to have an account on a Cloud Provider. Please make sure that Vagrant is installed (see section <a href="#installing-vagrant">Installing Vagrant</a>)</p>

<p>Make sure that you already run <code>make dev-setup</code> and that the Gardener API server and the Gardener controller manager are running via <code>make start-api</code> and <code>make start</code> as described before.</p>

<p>Next, you need to configure <code>minikube</code> to work as the Gardener and as the Seed cluster in such a way that it uses the local Vagrant installation to create the Shoot clusters.</p>

<pre><code class="language-bash">$ make dev-setup-local
cloudprofile &quot;local&quot; created
secret &quot;dev-local&quot; created
secretbinding &quot;core-local&quot; created
Cluster &quot;gardener-dev&quot; set.
User &quot;gardener-dev&quot; set.
Context &quot;gardener-dev&quot; modified.
Switched to context &quot;gardener-dev&quot;.
secret &quot;seed-local-dev&quot; created
seed &quot;local-dev&quot; created
</code></pre>

<h4 id="check-vagrant-setup">Check Vagrant setup</h4>

<p>To be sure that the Vagrant has been successfully installed and configured, test your setup:</p>

<pre><code class="language-bash">$ cd vagrant
$ vagrant up
Bringing machine 'core-01' up with 'virtualbox' provider...
==&gt; core-01: Importing base box 'coreos-stable'...
==&gt; core-01: Configuring Ignition Config Drive
==&gt; core-01: Matching MAC address for NAT networking...
[...]
</code></pre>

<p>If successful, delete your machine before continuing:</p>

<pre><code class="language-bash">$ vagrant destroy --force
==&gt; core-01: Forcing shutdown of VM...
==&gt; core-01: Destroying VM and associated drives...

$ cd $GOPATH/src/github.com/gardener/gardener
</code></pre>

<h4 id="start-the-gardener-local-provider">Start the Gardener Local Provider</h4>

<p>The Seed cluster provides the possibility to create Shoot clusters on several cloud provider. The Gardener Provider implements a common interface to all supported cloud providers. Here, the corresponding Gardener Provider for Local is used.</p>

<p>By executing</p>

<pre><code class="language-bash">$ make start-local
2018/02/14 10:53:34 Listening on :3777
2018/02/14 10:53:34 Vagrant directory /Users/foo/go/src/github.com/gardener/gardener/vagrant
2018/02/14 10:53:34 user-data path /Users/foo/git/go/src/github.com/gardener/gardener/dev/user-data
</code></pre>

<p>the Gardener Local Provider is started.</p>

<p>At this point three processes should run in an individual terminal, the Gardener API server, the Gardener controller manager and finally the Gardener Local Provider.</p>

<h4 id="create-access-and-delete-a-shoot-cluster">Create, access and delete a Shoot Cluster</h4>

<p>Now, you can create a Shoot cluster by running</p>

<pre><code class="language-bash">$ kubectl apply -f dev/90-shoot-local.yaml
shoot &quot;local&quot; created
</code></pre>

<p>When the Shoot API server is created you can download the <code>kubeconfig</code> for it and access it:</p>

<pre><code class="language-bash">$ kubectl --namespace shoot--dev--local get secret kubecfg -o jsonpath=&quot;{.data.kubeconfig}&quot; | base64 --decode &gt; dev/shoot-kubeconfig

# Depending on your Internet speed, it can take some time, before your node reports a READY status.
$ kubectl --kubeconfig dev/shoot-kubeconfig get nodes
NAME                    STATUS    ROLES     AGE       VERSION
192.168.99.201.nip.io   Ready     node      1m        v1.9.1
</code></pre>

<blockquote>
<p>Note: It is required that your minikube has network connectivity to the nodes created by Vagrant.</p>
</blockquote>

<p>For additional debugging on your Vagrant node you can <code>ssh</code> into it</p>

<pre><code class="language-bash">$ cd vagrant
$ vagrant ssh
</code></pre>

<p>To delete the Shoot cluster</p>

<pre><code class="language-bash">$ ./hack/delete-shoot local garden-dev
shoot &quot;local&quot; deleted
shoot &quot;local&quot; patched
</code></pre>

<h4 id="limitations">Limitations</h4>

<p>Currently, there are some limitations in the local Shoot setup which need to be considered. Please keep in mind that this setup is intended to be used by Gardener developers.</p>

<ul>
<li>The cloud provider allows to choose from a various list of different machine types. This flexibility is not available in this setup on a single local machine. However, it is possible to specify the Shoot nodes resources (cpu and memory) used by Vagrant in this <a href="https://raw.githubusercontent.com/gardener/gardener/master/docs/development/../../vagrant/Vagrantfile">configuration file</a>. In the Shoot creation process the Machine Controller Manager plays a central role. Due to the limitation in this setup this component is not used.</li>
<li>It is not yet possible to create Shoot clusters consisting of more than one worker node. Cluster Autoscaling therefore is not supported</li>
<li>It is not yet possible to create two or more Shoot clusters in parallel</li>
<li>The Shoot API Server is exposed via a NodePort. In a cloud setup a LoadBalancer would be used</li>
<li>The communication between the Seed and the Shoot Clusters uses VPN tunnel. In this setup tunnels are not needed since all components run on localhost</li>
</ul>

<h2 id="additional-information">Additional information</h2>

<p>In order to ensure that a specific Seed cluster will be chosen, add the <code>.spec.cloud.seed</code> field (see <a href="https://raw.githubusercontent.com/gardener/gardener/master/docs/development/../../example/90-shoot-azure.yaml#L10">here</a> for an example Shoot manifest).</p>

<p>Please take a look at the <a href="https://raw.githubusercontent.com/gardener/gardener/master/docs/development/../../example">example manifests folder</a> to see which resource objects you need to install into your Garden cluster.</p>






        </div> 
        

      </div>


        
        

        
            
            <div class="howto_tickets">
                <span class="open_github_ticket">
                    <h3 class="open_github_ticket_header"><i class="fa fa-github" aria-hidden="true"></i> Report an issue</h3>
                    See a typo? Have a picture to recommend? Want to edit some words/phrases/sentences?
                    You can simply submit a ticket to request we make the change. If you are github savvy, submit a
                    pull request.
                    
                    
                    
                    <a href="#" onclick="return createIssue('https://github.com/gardener/gardener/issues/new','https:\/\/github.com\/gardener\/gardener\/blob\/master\/docs\/development\/local_setup.md','https:\/\/github.com\/gardener\/gardener\/blob\/master\/docs\/development\/local_setup.md')" target="_blank">Open Github Issue <i class="fa fa-external-link" aria-hidden="true"></i></a>
                    <br>
                </span>
            </div>
        


    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">

      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/website/js/clipboard.min.js?1533730314"></script>
    <script src="/website/js/perfect-scrollbar.min.js?1533730314"></script>
    <script src="/website/js/perfect-scrollbar.jquery.min.js?1533730314"></script>
    <script src="/website/js/jquery.sticky.js?1533730314"></script>
    <script src="/website/js/featherlight.min.js?1533730314"></script>
    <script src="/website/js/html5shiv-printshiv.min.js?1533730314"></script>
    <script src="/website/js/highlight.pack.js?1533730314"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/website/js/modernizr.custom.71422.js?1533730314"></script>
    <script src="/website/js/learn.js?1533730314"></script>
    <script src="/website/js/hugo-learn.js?1533730314"></script>

    <link href="/website/mermaid/mermaid.css?1533730314" type="text/css" rel="stylesheet" />
    <script src="/website/mermaid/mermaid.js?1533730314"></script>
    <script>
        mermaid.initialize({ startOnLoad: true, htmlLables: true });
        function createIssue(issueUrl, page, url) {
            var uri = issueUrl+"?title=Documentation issue on page \""+page+"\"";
            uri = uri+ "&body=\n\n<- DESCRIBE MISSING OR FAULTY DOCUMENTATION HERE->\n\n---\nPage: ["+ page +"]("+
            url+ ")\ndon't remove the link to the page. It's required for the processor"
            var res = encodeURI(uri);
            res +="&labels=area/documentation"
            window.open(res,"issue")
            return false;
        }

        $(document).ready(function() {
            var $window = $(window);
            $window.sr = ScrollReveal({ reset: false});
            $window.sr.reveal('.reveal-fast', { duration: 2000 });
            $window.sr.reveal('.reveal-slow', { duration: 2500 });
            $window.sr.reveal('.reveal-right', { duration: 2000, origin:'right', distance:'300px' });
            $window.sr.reveal('.reveal-left', { duration: 2000, origin:'left', distance:'300px' });

            inlineSVG.init();
        });

    </script>
    
    <script>
    
    
    (function () {
        $("#body-inner a").not(".inline")
            .each(function () {
                if (this.hostname != window.location.hostname && this.href.indexOf("mailto:")===-1) {
                    this.target = '_blank';
                    $(this).addClass("externalLink");
                    if($(this).find("img").length===0) {
                        this.innerHTML += '<i class="fa fa-external-link" aria-hidden="true"></i>';
                    }
                }
            });



    })();

    </script>
  </body>
</html>
